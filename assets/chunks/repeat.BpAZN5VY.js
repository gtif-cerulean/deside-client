import{g as W,c as I}from"./commonjsHelpers.BosuxZz1.js";import{T as B}from"./lit-element.DDHy_8sw.js";import{e as D,i as R,t as G}from"./directive.CvdRHFdJ.js";import{p as H,v,s as T,M as k,m as P}from"./directive-helpers.DnWNptwX.js";var U="Expected a function",M=NaN,X="[object Symbol]",$=/^\s+|\s+$/g,q=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,z=/^0o[0-7]+$/i,J=parseInt,K=typeof I=="object"&&I&&I.Object===Object&&I,Q=typeof self=="object"&&self&&self.Object===Object&&self,V=K||Q||Function("return this")(),Y=Object.prototype,Z=Y.toString,ee=Math.max,te=Math.min,E=function(){return V.Date.now()};function ne(e,n,f){var d,t,l,o,s,c,p=0,j=!1,r=!1,a=!0;if(typeof e!="function")throw new TypeError(U);n=A(n)||0,S(f)&&(j=!!f.leading,r="maxWait"in f,l=r?ee(A(f.maxWait)||0,n):l,a="trailing"in f?!!f.trailing:a);function i(u){var g=d,x=t;return d=t=void 0,p=u,o=e.apply(x,g),o}function m(u){return p=u,s=setTimeout(y,n),j?i(u):o}function b(u){var g=u-c,x=u-p,L=n-g;return r?te(L,l-x):L}function h(u){var g=u-c,x=u-p;return c===void 0||g>=n||g<0||r&&x>=l}function y(){var u=E();if(h(u))return C(u);s=setTimeout(y,b(u))}function C(u){return s=void 0,a&&d?i(u):(d=t=void 0,o)}function F(){s!==void 0&&clearTimeout(s),p=0,d=c=t=s=void 0}function N(){return s===void 0?o:C(E())}function O(){var u=E(),g=h(u);if(d=arguments,t=this,c=u,g){if(s===void 0)return m(c);if(r)return s=setTimeout(y,n),i(c)}return s===void 0&&(s=setTimeout(y,n)),o}return O.cancel=F,O.flush=N,O}function S(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function re(e){return!!e&&typeof e=="object"}function ie(e){return typeof e=="symbol"||re(e)&&Z.call(e)==X}function A(e){if(typeof e=="number")return e;if(ie(e))return M;if(S(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=S(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace($,"");var f=w.test(e);return f||z.test(e)?J(e.slice(2),f?2:8):q.test(e)?M:+e}var oe=ne;const ce=W(oe);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _=(e,n,f)=>{const d=new Map;for(let t=n;t<=f;t++)d.set(e[t],t);return d},le=D(class extends R{constructor(e){if(super(e),e.type!==G.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,n,f){let d;f===void 0?f=n:n!==void 0&&(d=n);const t=[],l=[];let o=0;for(const s of e)t[o]=d?d(s,o):o,l[o]=f(s,o),o++;return{values:l,keys:t}}render(e,n,f){return this.dt(e,n,f).values}update(e,[n,f,d]){const t=H(e),{values:l,keys:o}=this.dt(n,f,d);if(!Array.isArray(t))return this.ut=o,l;const s=this.ut??(this.ut=[]),c=[];let p,j,r=0,a=t.length-1,i=0,m=l.length-1;for(;r<=a&&i<=m;)if(t[r]===null)r++;else if(t[a]===null)a--;else if(s[r]===o[i])c[i]=v(t[r],l[i]),r++,i++;else if(s[a]===o[m])c[m]=v(t[a],l[m]),a--,m--;else if(s[r]===o[m])c[m]=v(t[r],l[m]),T(e,c[m+1],t[r]),r++,m--;else if(s[a]===o[i])c[i]=v(t[a],l[i]),T(e,t[r],t[a]),a--,i++;else if(p===void 0&&(p=_(o,i,m),j=_(s,r,a)),p.has(s[r]))if(p.has(s[a])){const b=j.get(o[i]),h=b!==void 0?t[b]:null;if(h===null){const y=T(e,t[r]);v(y,l[i]),c[i]=y}else c[i]=v(h,l[i]),T(e,t[r],h),t[b]=null;i++}else k(t[a]),a--;else k(t[r]),r++;for(;i<=m;){const b=T(e,c[m+1]);v(b,l[i]),c[i++]=b}for(;r<=a;){const b=t[r++];b!==null&&k(b)}return this.ut=o,P(e,c),B}});export{ce as _,le as c};
